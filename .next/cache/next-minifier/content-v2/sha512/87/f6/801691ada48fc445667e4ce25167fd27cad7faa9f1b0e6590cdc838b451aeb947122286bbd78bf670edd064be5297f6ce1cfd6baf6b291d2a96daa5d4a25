{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{KfLK:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/token-listrik\",function(){return n(\"OCU5\")}])},OCU5:function(t,e,n){\"use strict\";n.r(e),n.d(e,\"TokenListrik\",(function(){return M}));var r=n(\"o0o1\"),a=n.n(r),i=n(\"HaE+\"),o=n(\"1OyB\"),s=n(\"vuIU\"),c=n(\"Ji7U\"),u=n(\"md7G\"),l=n(\"foSv\"),m=n(\"q1tI\"),p=n.n(m),d=n(\"nOHt\"),b=n.n(d),f=n(\"wb2y\"),h=n(\"r9w1\"),g=n(\"iae6\"),k=n(\"tRbT\"),v=n(\"lO0E\"),y=n(\"bXiM\"),N=n(\"/MKj\"),x=n(\"/VMr\"),w=n(\"yCij\"),O=n(\"oHDp\"),j=n(\"wGmz\"),S=n(\"Tgig\"),_=n(\"MqiW\"),C=n(\"WAyE\"),L=n(\"Wivs\"),T=p.a.createElement;function P(t){var e=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(l.a)(t);if(e){var a=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}var M=function(t){Object(c.a)(n,t);var e=P(n);function n(t){var r;return Object(o.a)(this,n),(r=e.call(this,t)).state={isLoading:!1,isLoadingPriceList:!0,errorMeterNumber:!1,errorPhoneNumber:!1,displayContent:1,phoneNumber:\"\",meterNumber:\"\",priceList:[],inquiryData:{product_name:\"-\",amount:\"-\",data:{subscriber_name:\"-\",material_number:\"-\",subscriber_id:\"-\",subscriber_segmentation:\"-\",power:\"-\",phone_number:\"-\"}},isAturTagihan:!1},r}return Object(s.a)(n,[{key:\"componentDidMount\",value:function(){document.body.style.background=\"white\",this.getPriceList()}},{key:\"componentWillUnmount\",value:function(){document.body.style=null}},{key:\"phoneNumberWatcher\",value:function(){var t=Object(i.a)(a.a.mark((function t(e){var n,r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.target.value,t.next=3,this.setState({phoneNumber:Object(O.d)(n)});case 3:(r=this.state.phoneNumber).length<1?this.setState({errorPhoneNumber:!1}):this.setState({errorPhoneNumber:!Object(O.e)(r)});case 5:case\"end\":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:\"meterNumberWatcher\",value:function(){var t=Object(i.a)(a.a.mark((function t(e){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.target.value,t.next=3,this.setState({meterNumber:n});case 3:n.length<1||Object(O.c)(n)?this.setState({errorMeterNumber:!1}):this.setState({errorMeterNumber:!0});case 4:case\"end\":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:\"getPriceList\",value:function(){var t=Object(i.a)(a.a.mark((function t(){var e;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(L.a)(\"/product_type/6/products\",\"get\",this.props.showSnackbar);case 2:(e=t.sent)&&this.setState({priceList:e}),this.setState({isLoadingPriceList:!1});case 5:case\"end\":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:\"inquiry\",value:function(){var t=Object(i.a)(a.a.mark((function t(e){var n,r,i,o,s,c,u,l,m;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this.props.showSnackbar,r=this.state,i=r.phoneNumber,o=r.meterNumber,s=r.errorPhoneNumber,c=r.errorMeterNumber,\"\"!==o){t.next=6;break}n(\"Nomor meter belum di isi\",\"error\"),t.next=22;break;case 6:if(\"\"!==i){t.next=10;break}n(\"Nomor telepon belum di isi\",\"error\"),t.next=22;break;case 10:if(!c&&!s){t.next=14;break}n(\"Masukkan nomor meter dan telepon dengan benar\",\"error\"),t.next=22;break;case 14:return this.setState({isLoading:!0}),u={\"Content-Type\":\"application/json\"},l=JSON.stringify({order_identifier:o,price_id:e,phone_number:i}),t.next=19,Object(L.a)(\"/inquiry\",\"post\",this.props.showSnackbar,l,u);case 19:(m=t.sent)&&(this.setState({displayContent:2}),this.setState({inquiryData:m})),this.setState({isLoading:!1});case 22:case\"end\":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:\"addToCart\",value:function(){var t=Object(i.a)(a.a.mark((function t(){var e,n,r,i,o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.state.inquiryData,n=e.price_id,r=e.order_identifier,this.setState({isLoading:!0}),i={\"Content-Type\":\"application/json\"},o=JSON.stringify({price_id:n,order_identifier:r}),t.next=6,Object(L.a)(\"/cart\",\"post\",this.props.showSnackbar,o,i);case 6:t.sent&&b.a.push(\"/keranjang\"),this.setState({isLoading:!1});case 9:case\"end\":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:\"render\",value:function(){var t,e=this,n=this.state,r=n.errorMeterNumber,a=n.isLoading,i=n.isLoadingPriceList,o=n.phoneNumber,s=n.meterNumber,c=n.displayContent,u=n.errorPhoneNumber,l=n.priceList,m=n.inquiryData;return 1===c?t=T(\"div\",{id:\"firstContent\"},T(x.a,{id:\"btnBack\",onClick:function(){return b.a.back()}}),T(f.a,null),T(\"div\",{className:\"margin-top-24 margin-btm-24\"},T(\"p\",{className:\"font-muli-18 bold margin-btm-16\"},\"Token Listrik\"),T(h.a,{id:\"meterNumberField\",placeholder:\"contoh: 123456789123\",fullWidth:!0,margin:\"dense\",InputProps:{disableUnderline:!0},inputProps:{maxLength:12},label:\"Masukkan nomor meter Anda\",variant:\"filled\",color:\"primary\",onChange:function(t){return e.meterNumberWatcher(t)},value:s,error:r,helperText:r?\"Dalam bentuk angka, 11 - 12 digit\":\"\"}),T(h.a,{id:\"phoneNumberField\",placeholder:\"contoh: 081234567891\",fullWidth:!0,margin:\"dense\",inputProps:{maxLength:13},label:\"Masukkan nomor handphone\",variant:\"filled\",color:\"primary\",onChange:function(t){return e.phoneNumberWatcher(t)},error:u,helperText:u?\"Nomor telepon 11 sampai 13 digit\":\"\",value:o,InputProps:{disableUnderline:!0}})),T(\"div\",{className:\"additional-product-content\"},i?T(g.a,{style:{position:\"relative\",left:\"45%\"}}):l.map((function(t,n){return T(j.a,{id:\"item\".concat(n),title:t.product_name,desc:t.product_desc,price:t.sell_price,onClick:function(){return e.inquiry(t.id)}})})))):2===c&&(t=T(\"div\",{id:\"secondContent\"},T(x.a,{id:\"btnBack\",onClick:function(){return e.setState({displayContent:1})}}),T(f.a,null),T(k.a,{container:!0,direction:\"row\",justify:\"space-between\",className:\"margin-top-16 txt-center-ver margin-btm-16\"},T(k.a,null,T(\"p\",{className:\"font-muli-14 margin-btm-16\"},\"Nama pelanggan\"),T(\"p\",{className:\"font-muli-14 margin-btm-16\"},\"No Meter\"),T(\"p\",{className:\"font-muli-14 margin-btm-16\"},\"ID Pelanggan\"),T(\"p\",{className:\"font-muli-14 margin-btm-16\"},\"Daya\"),T(\"p\",{className:\"font-muli-14 margin-btm-16\"},\"No Handphone\")),T(k.a,null,T(\"p\",{className:\"font-muli-14 bold txt-end margin-btm-16\"},m.data.subscriber_name),T(\"p\",{className:\"font-muli-14 bold txt-end margin-btm-16\"},m.data.material_number),T(\"p\",{className:\"font-muli-14 bold txt-end margin-btm-16\"},m.data.subscriber_id),T(\"p\",{className:\"font-muli-14 bold txt-end margin-btm-16\"},\"\".concat(m.data.subscriber_segmentation,\" / \").concat(m.data.power,\" Watt\")),T(\"p\",{className:\"font-muli-14 bold txt-end margin-btm-16\"},m.data.phone_number))),T(\"div\",{className:\"padding-16 common-border margin-btm-16\"},T(\"p\",{className:\"font-muli-14 bold\"},m.product_name),T(\"p\",{className:\"font-muli-12\"},Object(_.a)(m.amount))),T(f.a,null),T(\"div\",{className:\" margin-btm-16\"}),T(\"p\",{className:\"font-muli-14\"},\"* Ketika transaksi berhasil, kami akan mengirimkan token ke nomor handphone anda.\"),T(y.a,{position:\"fixed\",style:{top:\"auto\",bottom:0,backgroundColor:\"#fff\"}},T(v.a,null,T(w.a,{className:\"margin-btm-16\",size:\"large\",id:\"addToCart\",color:\"primary\",width:\"fullWidth\",onClick:function(){return e.addToCart()}},\"Tambahkan Ke Tagihan\"))))),T(\"div\",{className:\"main-content\",id:\"mainContent\"},t,T(C.a,{isOpen:a}))}}]),n}(m.Component),D={showSnackbar:S.b};e.default=Object(N.b)(null,D)(M)},bXiM:function(t,e,n){\"use strict\";var r=n(\"wx14\"),a=n(\"Ff2n\"),i=n(\"q1tI\"),o=(n(\"17x9\"),n(\"iuhU\")),s=n(\"H2TA\"),c=n(\"NqtD\"),u=n(\"kKAo\"),l=i.forwardRef((function(t,e){var n=t.classes,s=t.className,l=t.color,m=void 0===l?\"primary\":l,p=t.position,d=void 0===p?\"fixed\":p,b=Object(a.a)(t,[\"classes\",\"className\",\"color\",\"position\"]);return(i.createElement(u.a,Object(r.a)({square:!0,component:\"header\",elevation:4,className:Object(o.a)(n.root,n[\"position\".concat(Object(c.a)(d))],n[\"color\".concat(Object(c.a)(m))],s,\"fixed\"===d&&\"mui-fixed\"),ref:e},b)))}));e.a=Object(s.a)((function(t){var e=\"light\"===t.palette.type?t.palette.grey[100]:t.palette.grey[900];return{root:{display:\"flex\",flexDirection:\"column\",width:\"100%\",boxSizing:\"border-box\",zIndex:t.zIndex.appBar,flexShrink:0},positionFixed:{position:\"fixed\",top:0,left:\"auto\",right:0,\"@media print\":{position:\"absolute\"}},positionAbsolute:{position:\"absolute\",top:0,left:\"auto\",right:0},positionSticky:{position:\"sticky\",top:0,left:\"auto\",right:0},positionStatic:{position:\"static\"},positionRelative:{position:\"relative\"},colorDefault:{backgroundColor:e,color:t.palette.getContrastText(e)},colorPrimary:{backgroundColor:t.palette.primary.main,color:t.palette.primary.contrastText},colorSecondary:{backgroundColor:t.palette.secondary.main,color:t.palette.secondary.contrastText},colorInherit:{color:\"inherit\"},colorTransparent:{backgroundColor:\"transparent\",color:\"inherit\"}}}),{name:\"MuiAppBar\"})(l)},lO0E:function(t,e,n){\"use strict\";var r=n(\"wx14\"),a=n(\"Ff2n\"),i=n(\"rePB\"),o=n(\"q1tI\"),s=(n(\"17x9\"),n(\"iuhU\")),c=n(\"H2TA\"),u=o.forwardRef((function(t,e){var n=t.classes,i=t.className,c=t.component,u=void 0===c?\"div\":c,l=t.disableGutters,m=void 0!==l&&l,p=t.variant,d=void 0===p?\"regular\":p,b=Object(a.a)(t,[\"classes\",\"className\",\"component\",\"disableGutters\",\"variant\"]);return(o.createElement(u,Object(r.a)({className:Object(s.a)(n.root,n[d],i,!m&&n.gutters),ref:e},b)))}));e.a=Object(c.a)((function(t){return{root:{position:\"relative\",display:\"flex\",alignItems:\"center\"},gutters:Object(i.a)({paddingLeft:t.spacing(2),paddingRight:t.spacing(2)},t.breakpoints.up(\"sm\"),{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}),regular:t.mixins.toolbar,dense:{minHeight:48}}}),{name:\"MuiToolbar\"})(u)}},[[\"KfLK\",0,2,1,3,4,5,7,6,8,9,10,11]]]);","extractedComments":[]}