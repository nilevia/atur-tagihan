{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { connect } from 'react-redux';\nimport { isNotUndefined } from './Validator';\nimport { showSnackbar } from '../redux/snackbar/action';\nexport var ApiService = /*#__PURE__*/function (_Component) {\n  _inherits(ApiService, _Component);\n\n  var _super = _createSuper(ApiService);\n\n  function ApiService(props) {\n    var _this;\n\n    _classCallCheck(this, ApiService);\n\n    _this = _super.call(this, props);\n    _this.state = {};\n    return _this;\n  }\n\n  _createClass(ApiService, [{\n    key: \"CommonNetworkCall\",\n    value: function () {\n      var _CommonNetworkCall = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(path, method) {\n        var data,\n            headers,\n            showSnackbar,\n            BASE_URL,\n            url,\n            _axios,\n            _args3 = arguments;\n\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                data = _args3.length > 2 && _args3[2] !== undefined ? _args3[2] : '';\n                headers = _args3.length > 3 && _args3[3] !== undefined ? _args3[3] : {};\n                showSnackbar = this.props.showSnackbar;\n                BASE_URL = process.env.NEXT_PUBLIC_API_BASE_URL;\n                url = \"\".concat(BASE_URL).concat(path);\n                _context3.t0 = method;\n                _context3.next = _context3.t0 === 'get' ? 8 : _context3.t0 === 'post' ? 10 : _context3.t0 === 'delete' ? 12 : _context3.t0 === 'put' ? 14 : 16;\n                break;\n\n              case 8:\n                _axios = axios.get(url);\n                return _context3.abrupt(\"break\", 17);\n\n              case 10:\n                _axios = axios.post(url, data, {\n                  headers: headers\n                });\n                return _context3.abrupt(\"break\", 17);\n\n              case 12:\n                _axios = axios[\"delete\"](url, {\n                  headers: headers\n                });\n                return _context3.abrupt(\"break\", 17);\n\n              case 14:\n                _axios = axios.put(url, data, {\n                  headers: headers\n                });\n                return _context3.abrupt(\"break\", 17);\n\n              case 16:\n                _axios = axios();\n\n              case 17:\n                _context3.next = 19;\n                return _axios.then( /*#__PURE__*/function () {\n                  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(apiResponse) {\n                    var _apiResponse$data, response, result;\n\n                    return _regeneratorRuntime.wrap(function _callee$(_context) {\n                      while (1) {\n                        switch (_context.prev = _context.next) {\n                          case 0:\n                            _apiResponse$data = apiResponse.data, response = _apiResponse$data.response, result = _apiResponse$data.result;\n\n                            if (!(response.code !== '000000')) {\n                              _context.next = 4;\n                              break;\n                            }\n\n                            showSnackbar('Terjadi Gangguan', 'error');\n                            return _context.abrupt(\"return\", null);\n\n                          case 4:\n                            return _context.abrupt(\"return\", result);\n\n                          case 5:\n                          case \"end\":\n                            return _context.stop();\n                        }\n                      }\n                    }, _callee);\n                  }));\n\n                  return function (_x3) {\n                    return _ref.apply(this, arguments);\n                  };\n                }())[\"catch\"]( /*#__PURE__*/function () {\n                  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(error) {\n                    var _data;\n\n                    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n                      while (1) {\n                        switch (_context2.prev = _context2.next) {\n                          case 0:\n                            if (isNotUndefined(error.response)) {\n                              _data = error.response.data;\n                              showSnackbar(_data.response.user_errors, 'error');\n                            } else {\n                              showSnackbar(error.toString(), 'error');\n                            }\n\n                            return _context2.abrupt(\"return\", null);\n\n                          case 2:\n                          case \"end\":\n                            return _context2.stop();\n                        }\n                      }\n                    }, _callee2);\n                  }));\n\n                  return function (_x4) {\n                    return _ref2.apply(this, arguments);\n                  };\n                }());\n\n              case 19:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function CommonNetworkCall(_x, _x2) {\n        return _CommonNetworkCall.apply(this, arguments);\n      }\n\n      return CommonNetworkCall;\n    }()\n  }]);\n\n  return ApiService;\n}(Component);\nvar mapDispatchToProps = {\n  showSnackbar: showSnackbar\n};\nexport default connect(null, mapDispatchToProps)(ApiService);","map":{"version":3,"sources":["/Users/otnielvictoryfa/task2020/atur-tagihan/utils/ApiService.js"],"names":["React","Component","axios","connect","isNotUndefined","showSnackbar","ApiService","props","state","path","method","data","headers","BASE_URL","process","env","NEXT_PUBLIC_API_BASE_URL","url","_axios","get","post","put","then","apiResponse","response","result","code","error","user_errors","toString","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport { connect } from 'react-redux';\nimport { isNotUndefined } from './Validator';\nimport { showSnackbar } from '../redux/snackbar/action';\n\nexport class ApiService extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n\n    };\n  }\n\n  async CommonNetworkCall(path, method, data = '', headers = {}) {\n    const { showSnackbar } = this.props;\n    const BASE_URL = process.env.NEXT_PUBLIC_API_BASE_URL;\n    const url = `${BASE_URL}${path}`;\n\n    let _axios;\n    switch (method) {\n      case 'get':\n        _axios = axios.get(url);\n        break;\n      case 'post':\n        _axios = axios.post(url, data, { headers });\n        break;\n      case 'delete':\n        _axios = axios.delete(url, { headers });\n        break;\n      case 'put':\n        _axios = axios.put(url, data, { headers });\n        break;\n      default:\n        _axios = axios();\n    }\n    await _axios\n      .then(async (apiResponse) => {\n        const { response, result } = apiResponse.data;\n\n        if (response.code !== '000000') {\n          showSnackbar('Terjadi Gangguan', 'error');\n          return null;\n        }\n        return result;\n      })\n      .catch(async (error) => {\n        if (isNotUndefined(error.response)) {\n          const { data } = error.response;\n          showSnackbar(data.response.user_errors, 'error');\n        } else {\n          showSnackbar(error.toString(), 'error');\n        }\n        return null;\n      });\n  }\n}\n\nconst mapDispatchToProps = {\n  showSnackbar,\n};\nexport default connect(null, mapDispatchToProps)(ApiService);\n"]},"metadata":{},"sourceType":"module"}