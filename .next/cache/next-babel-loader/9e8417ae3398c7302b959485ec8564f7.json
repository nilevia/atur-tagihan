{"ast":null,"code":"var _jsxFileName = \"/Users/otnielvictoryfa/task2020/atur-tagihan/pages/token-listrik/[order_id]/index.js\";\nvar __jsx = React.createElement;\nimport React, { Component } from 'react';\nimport Router from 'next/router'; // material\n\nimport { Divider } from '@material-ui/core';\nimport TextField from '@material-ui/core/TextField';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Grid from '@material-ui/core/Grid';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport AppBar from '@material-ui/core/AppBar'; // component\\\n\nimport { connect } from 'react-redux';\nimport axios from 'axios';\nimport ButtonBack from '../../../components/global-component/ButtonBack';\nimport ButtonMain from '../../../components/global-component/ButtonMain';\nimport { isNotUndefined, meterValidation, phoneReplace, phoneValidation } from '../../../utils/Validator';\nimport ProductItem from '../../../components/additional-product/ProductItem'; // redux\n\nimport { showSnackbar } from '../../../redux/snackbar/action';\nimport { getHashUrl } from '../../../utils/CommonUtils';\nimport { getRupiah } from '../../../utils/Calculate';\nimport { BlockDialog } from '../../../components/global-component/BlockDialog';\nimport { AuthNetworkCall } from '../../../utils/NetworkCall';\nexport class TokenListrik extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading: false,\n      isLoadingPriceList: true,\n      errorMeterNumber: false,\n      errorPhoneNumber: false,\n      displayContent: 1,\n      phoneNumber: '',\n      meterNumber: '',\n      priceList: [],\n      inquiryData: {\n        product_name: '-',\n        amount: '-',\n        data: {\n          subscriber_name: '-',\n          material_number: '-',\n          subscriber_id: '-',\n          subscriber_segmentation: '-',\n          power: '-',\n          phone_number: '-'\n        }\n      },\n      isAturTagihan: false\n    };\n  }\n\n  componentDidMount() {\n    document.body.style.background = 'white'; // Jika pada path ada \"beli\" maka bukan dari detail tagihan aturtagihan\n\n    const orderId = getHashUrl();\n    this.setState({\n      orderId\n    });\n    if (orderId !== 'beli') this.setState({\n      isAturTagihan: true\n    });else {\n      this.setState({\n        isAturTagihan: false\n      });\n    }\n    this.getPriceList();\n  }\n  /**\n   * @method phoneNumberWatcher\n   * @summary this function will do a simple validation for phone number\n   * then will set button enable\n   * @param event\n   */\n\n\n  async phoneNumberWatcher(event) {\n    const {\n      value\n    } = event.target; // change input to match format\n\n    await this.setState({\n      phoneNumber: phoneReplace(value)\n    });\n    const {\n      phoneNumber\n    } = this.state;\n\n    if (phoneNumber.length < 1) {\n      this.setState({\n        errorPhoneNumber: false\n      });\n    } else {\n      this.setState({\n        errorPhoneNumber: !phoneValidation(phoneNumber)\n      });\n    }\n  }\n  /**\n   * @method meterNumberWatcher\n   * @summary this method will do validation for each input on nomor meter form\n   * */\n\n\n  async meterNumberWatcher(event) {\n    const {\n      value\n    } = event.target;\n    await this.setState({\n      meterNumber: value\n    });\n\n    if (value.length < 1 || meterValidation(value)) {\n      this.setState({\n        errorMeterNumber: false\n      });\n    } else {\n      this.setState({\n        errorMeterNumber: true\n      });\n    }\n  }\n  /**\n   * @method getPriceList\n   * @summary get pricelist of electricity (id 6)\n   *\n   * */\n\n\n  async getPriceList() {\n    const {\n      showSnackbar\n    } = this.props;\n    const BASE_URL = process.env.NEXT_PUBLIC_API_BASE_URL;\n    const url = `${BASE_URL}/product_type/6/products/atur_tagihan`;\n    await axios.get(url).then(async apiResponse => {\n      const {\n        response,\n        result\n      } = apiResponse.data;\n\n      if (response.code !== '000000') {\n        showSnackbar('Terjadi Gangguan', 'error');\n      } else {\n        this.setState({\n          priceList: result\n        });\n      }\n\n      this.setState({\n        isLoadingPriceList: false\n      });\n    }).catch(async error => {\n      if (isNotUndefined(error.response)) {\n        const {\n          data\n        } = error.response;\n        showSnackbar(data.response.user_errors, 'error');\n      } else {\n        showSnackbar(error.toString(), 'error');\n      }\n\n      this.setState({\n        isLoadingPriceList: false\n      });\n    });\n  }\n  /**\n   * @method inquiry\n   * @summary this method is dummy\n   */\n\n\n  async inquiry(priceId) {\n    const {\n      showSnackbar\n    } = this.props;\n    const {\n      phoneNumber,\n      meterNumber,\n      errorPhoneNumber,\n      errorMeterNumber,\n      custId\n    } = this.state;\n    if (meterNumber === '') showSnackbar('Nomor meter belum di isi', 'error');else if (phoneNumber === '') showSnackbar('Nomor telepon belum di isi', 'error');else if (errorMeterNumber || errorPhoneNumber) showSnackbar('Masukkan nomor meter dan telepon dengan benar', 'error');else {\n      // do inquiry here\n      this.setState({\n        isLoading: true\n      });\n      const headers = {\n        'Content-Type': 'application/json'\n      };\n      const data = JSON.stringify({\n        order_identifier: meterNumber,\n        price_id: priceId,\n        phone_number: phoneNumber\n      });\n      const result = await AuthNetworkCall('/inquiry', 'post', this.props.showSnackbar, data, headers);\n\n      if (result) {\n        this.setState({\n          displayContent: 2\n        });\n        this.setState({\n          inquiryData: result\n        });\n      }\n\n      this.setState({\n        isLoading: false\n      });\n    }\n  }\n  /**\n   * @method addToCart\n   * @summary add selected item to cart by post using\n   * order_idenifier : idpel\n   *customer_id, and price_id\n   * @returns {Promise<void>}\n   */\n\n\n  async addToCart() {\n    const {\n      price_id,\n      order_identifier\n    } = this.state.inquiryData;\n    this.setState({\n      isLoading: true\n    });\n    const headers = {\n      'Content-Type': 'application/json'\n    };\n    const data = JSON.stringify({\n      price_id,\n      order_identifier\n    });\n    const result = await AuthNetworkCall('/cart', 'post', this.props.showSnackbar, data, headers);\n\n    if (result) {\n      if (this.state.isAturTagihan) Router.push(`/detail-tagihan/${this.state.orderId}`);else Router.push('/detail-tagihan/beli');\n    }\n\n    this.setState({\n      isLoading: false\n    });\n  }\n\n  render() {\n    const {\n      errorMeterNumber,\n      isLoading,\n      isLoadingPriceList,\n      phoneNumber,\n      meterNumber,\n      displayContent,\n      errorPhoneNumber,\n      priceList,\n      inquiryData\n    } = this.state;\n    let content;\n\n    if (displayContent === 1) {\n      content = __jsx(\"div\", {\n        id: \"firstContent\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 9\n        }\n      }, __jsx(ButtonBack, {\n        id: \"btnBack\",\n        onClick: () => Router.back(),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 11\n        }\n      }), __jsx(Divider, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 11\n        }\n      }), __jsx(\"div\", {\n        className: \"margin-top-24 margin-btm-24\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 11\n        }\n      }, __jsx(\"p\", {\n        className: \"font-muli-18 bold margin-btm-16\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 13\n        }\n      }, \"Token Listrik\"), __jsx(TextField, {\n        id: \"meterNumberField\",\n        placeholder: \"contoh: 123456789123\",\n        fullWidth: true,\n        margin: \"dense\",\n        InputProps: {\n          disableUnderline: true\n        },\n        inputProps: {\n          maxLength: 12\n        },\n        label: \"Masukkan nomor meter Anda\",\n        variant: \"filled\",\n        color: \"primary\",\n        onChange: event => this.meterNumberWatcher(event),\n        value: meterNumber,\n        error: errorMeterNumber,\n        helperText: errorMeterNumber ? 'Dalam bentuk angka, 11 - 12 digit' : '',\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 13\n        }\n      }), __jsx(TextField, {\n        id: \"phoneNumberField\",\n        placeholder: \"contoh: 081234567891\",\n        fullWidth: true,\n        margin: \"dense\",\n        inputProps: {\n          maxLength: 13\n        },\n        label: \"Masukkan nomor handphone\",\n        variant: \"filled\",\n        color: \"primary\",\n        onChange: event => this.phoneNumberWatcher(event),\n        error: errorPhoneNumber,\n        helperText: errorPhoneNumber ? 'Nomor telepon 11 sampai 13 digit' : '',\n        value: phoneNumber,\n        InputProps: {\n          disableUnderline: true\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 13\n        }\n      })), __jsx(\"div\", {\n        className: \"additional-product-content\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 11\n        }\n      }, isLoadingPriceList ? __jsx(CircularProgress, {\n        style: {\n          position: 'relative',\n          left: '45%'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 17\n        }\n      }) : priceList.map((item, index) => __jsx(ProductItem, {\n        id: `item${index}`,\n        title: item.product_name,\n        desc: item.product_desc,\n        price: item.sell_price,\n        onClick: () => this.inquiry(item.id),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 17\n        }\n      }))));\n    } else if (displayContent === 2) {\n      content = __jsx(\"div\", {\n        id: \"secondContent\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 9\n        }\n      }, __jsx(ButtonBack, {\n        id: \"btnBack\",\n        onClick: () => this.setState({\n          displayContent: 1\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 11\n        }\n      }), __jsx(Divider, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 11\n        }\n      }), __jsx(Grid, {\n        container: true,\n        direction: \"row\",\n        justify: \"space-between\",\n        className: \"margin-top-16 txt-center-ver margin-btm-16\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 11\n        }\n      }, __jsx(Grid, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 13\n        }\n      }, __jsx(\"p\", {\n        className: \"font-muli-14 margin-btm-16\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 15\n        }\n      }, \"Nama pelanggan\"), __jsx(\"p\", {\n        className: \"font-muli-14 margin-btm-16\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 15\n        }\n      }, \"No Meter\"), __jsx(\"p\", {\n        className: \"font-muli-14 margin-btm-16\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 15\n        }\n      }, \"ID Pelanggan\"), __jsx(\"p\", {\n        className: \"font-muli-14 margin-btm-16\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 15\n        }\n      }, \"Daya\"), __jsx(\"p\", {\n        className: \"font-muli-14 margin-btm-16\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 15\n        }\n      }, \"No Handphone\")), __jsx(Grid, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 13\n        }\n      }, __jsx(\"p\", {\n        className: \"font-muli-14 bold txt-end margin-btm-16\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 15\n        }\n      }, inquiryData.data.subscriber_name), __jsx(\"p\", {\n        className: \"font-muli-14 bold txt-end margin-btm-16\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 15\n        }\n      }, inquiryData.data.material_number), __jsx(\"p\", {\n        className: \"font-muli-14 bold txt-end margin-btm-16\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 15\n        }\n      }, inquiryData.data.subscriber_id), __jsx(\"p\", {\n        className: \"font-muli-14 bold txt-end margin-btm-16\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 15\n        }\n      }, `${inquiryData.data.subscriber_segmentation} / ${inquiryData.data.power} Watt`), __jsx(\"p\", {\n        className: \"font-muli-14 bold txt-end margin-btm-16\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 15\n        }\n      }, inquiryData.data.phone_number))), __jsx(\"div\", {\n        className: \"padding-16 common-border margin-btm-16\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 11\n        }\n      }, __jsx(\"p\", {\n        className: \"font-muli-14 bold\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 13\n        }\n      }, inquiryData.product_name), __jsx(\"p\", {\n        className: \"font-muli-12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 13\n        }\n      }, getRupiah(inquiryData.amount))), __jsx(Divider, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 11\n        }\n      }), __jsx(\"div\", {\n        className: \" margin-btm-16\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 11\n        }\n      }), __jsx(\"p\", {\n        className: \"font-muli-14\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 11\n        }\n      }, \"* Ketika transaksi berhasil, kami akan mengirimkan token ke nomor handphone anda.\"), __jsx(AppBar, {\n        position: \"fixed\",\n        style: {\n          top: 'auto',\n          bottom: 0,\n          backgroundColor: '#fff'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 11\n        }\n      }, __jsx(Toolbar, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 13\n        }\n      }, __jsx(ButtonMain, {\n        className: \"margin-btm-16\",\n        size: \"large\",\n        id: \"addToCart\",\n        color: \"primary\",\n        width: \"fullWidth\",\n        onClick: () => this.addToCart(),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 15\n        }\n      }, \"Tambahkan Ke Tagihan\"))));\n    }\n\n    return __jsx(\"div\", {\n      className: \"main-content\",\n      id: \"mainContent\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 7\n      }\n    }, content, __jsx(BlockDialog, {\n      isOpen: isLoading,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}\nconst mapDispatchToProps = {\n  showSnackbar\n};\nexport default connect(null, mapDispatchToProps)(TokenListrik);","map":{"version":3,"sources":["/Users/otnielvictoryfa/task2020/atur-tagihan/pages/token-listrik/[order_id]/index.js"],"names":["React","Component","Router","Divider","TextField","CircularProgress","Grid","Toolbar","AppBar","connect","axios","ButtonBack","ButtonMain","isNotUndefined","meterValidation","phoneReplace","phoneValidation","ProductItem","showSnackbar","getHashUrl","getRupiah","BlockDialog","AuthNetworkCall","TokenListrik","constructor","props","state","isLoading","isLoadingPriceList","errorMeterNumber","errorPhoneNumber","displayContent","phoneNumber","meterNumber","priceList","inquiryData","product_name","amount","data","subscriber_name","material_number","subscriber_id","subscriber_segmentation","power","phone_number","isAturTagihan","componentDidMount","document","body","style","background","orderId","setState","getPriceList","phoneNumberWatcher","event","value","target","length","meterNumberWatcher","BASE_URL","process","env","NEXT_PUBLIC_API_BASE_URL","url","get","then","apiResponse","response","result","code","catch","error","user_errors","toString","inquiry","priceId","custId","headers","JSON","stringify","order_identifier","price_id","addToCart","push","render","content","back","disableUnderline","maxLength","position","left","map","item","index","product_desc","sell_price","id","top","bottom","backgroundColor","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Router from 'next/router';\n\n// material\nimport { Divider } from '@material-ui/core';\nimport TextField from '@material-ui/core/TextField';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Grid from '@material-ui/core/Grid';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport AppBar from '@material-ui/core/AppBar';\n\n// component\\\nimport { connect } from 'react-redux';\nimport axios from 'axios';\nimport ButtonBack from '../../../components/global-component/ButtonBack';\nimport ButtonMain from '../../../components/global-component/ButtonMain';\nimport {\n  isNotUndefined,\n  meterValidation,\n  phoneReplace,\n  phoneValidation,\n} from '../../../utils/Validator';\nimport ProductItem from '../../../components/additional-product/ProductItem';\n// redux\n\nimport { showSnackbar } from '../../../redux/snackbar/action';\nimport { getHashUrl } from '../../../utils/CommonUtils';\nimport { getRupiah } from '../../../utils/Calculate';\nimport { BlockDialog } from '../../../components/global-component/BlockDialog';\nimport { AuthNetworkCall } from '../../../utils/NetworkCall';\n\nexport class TokenListrik extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading: false,\n      isLoadingPriceList: true,\n      errorMeterNumber: false,\n      errorPhoneNumber: false,\n      displayContent: 1,\n      phoneNumber: '',\n      meterNumber: '',\n      priceList: [],\n      inquiryData: {\n        product_name: '-',\n        amount: '-',\n        data: {\n          subscriber_name: '-',\n          material_number: '-',\n          subscriber_id: '-',\n          subscriber_segmentation: '-',\n          power: '-',\n          phone_number: '-',\n        },\n      },\n      isAturTagihan: false,\n    };\n  }\n\n  componentDidMount() {\n    document.body.style.background = 'white';\n\n    // Jika pada path ada \"beli\" maka bukan dari detail tagihan aturtagihan\n    const orderId = getHashUrl();\n    this.setState({ orderId });\n    if (orderId !== 'beli') this.setState({ isAturTagihan: true });\n    else {\n      this.setState({ isAturTagihan: false });\n    }\n    this.getPriceList();\n  }\n\n  /**\n   * @method phoneNumberWatcher\n   * @summary this function will do a simple validation for phone number\n   * then will set button enable\n   * @param event\n   */\n  async phoneNumberWatcher(event) {\n    const { value } = event.target;\n    // change input to match format\n    await this.setState({ phoneNumber: phoneReplace(value) });\n    const { phoneNumber } = this.state;\n    if (phoneNumber.length < 1) {\n      this.setState({ errorPhoneNumber: false });\n    } else {\n      this.setState({ errorPhoneNumber: !phoneValidation(phoneNumber) });\n    }\n  }\n\n  /**\n   * @method meterNumberWatcher\n   * @summary this method will do validation for each input on nomor meter form\n   * */\n  async meterNumberWatcher(event) {\n    const { value } = event.target;\n    await this.setState({ meterNumber: value });\n    if (value.length < 1 || meterValidation(value)) {\n      this.setState({ errorMeterNumber: false });\n    } else {\n      this.setState({ errorMeterNumber: true });\n    }\n  }\n\n  /**\n   * @method getPriceList\n   * @summary get pricelist of electricity (id 6)\n   *\n   * */\n  async getPriceList() {\n    const { showSnackbar } = this.props;\n    const BASE_URL = process.env.NEXT_PUBLIC_API_BASE_URL;\n    const url = `${BASE_URL}/product_type/6/products/atur_tagihan`;\n    await axios\n      .get(url)\n      .then(async (apiResponse) => {\n        const { response, result } = apiResponse.data;\n\n        if (response.code !== '000000') {\n          showSnackbar('Terjadi Gangguan', 'error');\n        } else {\n          this.setState({ priceList: result });\n        }\n        this.setState({ isLoadingPriceList: false });\n      })\n      .catch(async (error) => {\n        if (isNotUndefined(error.response)) {\n          const { data } = error.response;\n          showSnackbar(data.response.user_errors, 'error');\n        } else {\n          showSnackbar(error.toString(), 'error');\n        }\n        this.setState({ isLoadingPriceList: false });\n      });\n  }\n\n  /**\n   * @method inquiry\n   * @summary this method is dummy\n   */\n  async inquiry(priceId) {\n    const { showSnackbar } = this.props;\n    const {\n      phoneNumber, meterNumber, errorPhoneNumber, errorMeterNumber, custId,\n    } = this.state;\n\n    if (meterNumber === '') showSnackbar('Nomor meter belum di isi', 'error');\n    else if (phoneNumber === '') showSnackbar('Nomor telepon belum di isi', 'error');\n    else if (errorMeterNumber || errorPhoneNumber) showSnackbar('Masukkan nomor meter dan telepon dengan benar', 'error');\n    else {\n      // do inquiry here\n      this.setState({ isLoading: true });\n\n      const headers = {\n        'Content-Type': 'application/json',\n      };\n\n      const data = JSON.stringify({\n        order_identifier: meterNumber,\n        price_id: priceId,\n        phone_number: phoneNumber,\n      });\n\n      const result = await AuthNetworkCall('/inquiry', 'post', this.props.showSnackbar, data, headers);\n      if (result) {\n        this.setState({ displayContent: 2 });\n        this.setState({ inquiryData: result });\n      }\n      this.setState({ isLoading: false });\n    }\n  }\n\n  /**\n   * @method addToCart\n   * @summary add selected item to cart by post using\n   * order_idenifier : idpel\n   *customer_id, and price_id\n   * @returns {Promise<void>}\n   */\n  async addToCart() {\n    const { price_id, order_identifier } = this.state.inquiryData;\n\n    this.setState({ isLoading: true });\n    const headers = { 'Content-Type': 'application/json' };\n    const data = JSON.stringify({\n      price_id,\n      order_identifier,\n    });\n\n    const result = await AuthNetworkCall('/cart', 'post', this.props.showSnackbar, data, headers);\n    if (result) {\n      if (this.state.isAturTagihan) Router.push(`/detail-tagihan/${this.state.orderId}`);\n      else Router.push('/detail-tagihan/beli');\n    }\n    this.setState({ isLoading: false });\n  }\n\n  render() {\n    const {\n      errorMeterNumber, isLoading, isLoadingPriceList,\n      phoneNumber, meterNumber, displayContent, errorPhoneNumber, priceList,\n      inquiryData,\n    } = this.state;\n\n    let content;\n\n    if (displayContent === 1) {\n      content = (\n        <div id=\"firstContent\">\n          <ButtonBack id=\"btnBack\" onClick={() => Router.back()} />\n          <Divider />\n          <div className=\"margin-top-24 margin-btm-24\">\n            <p className=\"font-muli-18 bold margin-btm-16\">Token Listrik</p>\n            <TextField\n              id=\"meterNumberField\"\n              placeholder=\"contoh: 123456789123\"\n              fullWidth\n              margin=\"dense\"\n              InputProps={{\n                disableUnderline: true,\n              }}\n              inputProps={{ maxLength: 12 }}\n              label=\"Masukkan nomor meter Anda\"\n              variant=\"filled\"\n              color=\"primary\"\n              onChange={(event) => this.meterNumberWatcher(event)}\n              value={meterNumber}\n              error={errorMeterNumber}\n              helperText={errorMeterNumber ? 'Dalam bentuk angka, 11 - 12 digit' : ''}\n            />\n            <TextField\n              id=\"phoneNumberField\"\n              placeholder=\"contoh: 081234567891\"\n              fullWidth\n              margin=\"dense\"\n              inputProps={{ maxLength: 13 }}\n              label=\"Masukkan nomor handphone\"\n              variant=\"filled\"\n              color=\"primary\"\n              onChange={(event) => this.phoneNumberWatcher(event)}\n              error={errorPhoneNumber}\n              helperText={errorPhoneNumber ? 'Nomor telepon 11 sampai 13 digit' : ''}\n              value={phoneNumber}\n              InputProps={{\n                disableUnderline: true,\n              }}\n            />\n          </div>\n          <div className=\"additional-product-content\">\n\n            {isLoadingPriceList\n              ? <CircularProgress style={{ position: 'relative', left: '45%' }} />\n              : priceList.map((item, index) => (\n                <ProductItem\n                  id={`item${index}`}\n                  title={item.product_name}\n                  desc={item.product_desc}\n                  price={item.sell_price}\n                  onClick={() => this.inquiry(item.id)}\n                />\n              ))}\n\n          </div>\n        </div>\n      );\n    } else if (displayContent === 2) {\n      content = (\n        <div id=\"secondContent\">\n          <ButtonBack id=\"btnBack\" onClick={() => this.setState({ displayContent: 1 })} />\n          <Divider />\n          <Grid\n            container\n            direction=\"row\"\n            justify=\"space-between\"\n            className=\"margin-top-16 txt-center-ver margin-btm-16\"\n          >\n            <Grid>\n              <p className=\"font-muli-14 margin-btm-16\">Nama pelanggan</p>\n              <p className=\"font-muli-14 margin-btm-16\">No Meter</p>\n              <p className=\"font-muli-14 margin-btm-16\">ID Pelanggan</p>\n              <p className=\"font-muli-14 margin-btm-16\">Daya</p>\n              <p className=\"font-muli-14 margin-btm-16\">No Handphone</p>\n            </Grid>\n            <Grid>\n              <p className=\"font-muli-14 bold txt-end margin-btm-16\">{inquiryData.data.subscriber_name}</p>\n              <p className=\"font-muli-14 bold txt-end margin-btm-16\">{inquiryData.data.material_number}</p>\n              <p className=\"font-muli-14 bold txt-end margin-btm-16\">{inquiryData.data.subscriber_id}</p>\n              <p className=\"font-muli-14 bold txt-end margin-btm-16\">{`${inquiryData.data.subscriber_segmentation} / ${inquiryData.data.power} Watt`}</p>\n              <p className=\"font-muli-14 bold txt-end margin-btm-16\">{inquiryData.data.phone_number}</p>\n\n            </Grid>\n          </Grid>\n          <div className=\"padding-16 common-border margin-btm-16\">\n            <p className=\"font-muli-14 bold\">{inquiryData.product_name}</p>\n            <p className=\"font-muli-12\">{getRupiah(inquiryData.amount)}</p>\n          </div>\n          <Divider />\n          <div className=\" margin-btm-16\" />\n          <p className=\"font-muli-14\">\n            * Ketika transaksi berhasil, kami akan mengirimkan token ke nomor handphone anda.\n          </p>\n\n          <AppBar position=\"fixed\" style={{ top: 'auto', bottom: 0, backgroundColor: '#fff' }}>\n            <Toolbar>\n              <ButtonMain className=\"margin-btm-16\" size=\"large\" id=\"addToCart\" color=\"primary\" width=\"fullWidth\" onClick={() => this.addToCart()}>\n                Tambahkan Ke Tagihan\n              </ButtonMain>\n            </Toolbar>\n          </AppBar>\n\n        </div>\n      );\n    }\n    return (\n      <div className=\"main-content\" id=\"mainContent\">\n        {content}\n        <BlockDialog isOpen={isLoading} />\n      </div>\n    );\n  }\n}\n\nconst mapDispatchToProps = {\n  showSnackbar,\n};\nexport default connect(null, mapDispatchToProps)(TokenListrik);\n"]},"metadata":{},"sourceType":"module"}