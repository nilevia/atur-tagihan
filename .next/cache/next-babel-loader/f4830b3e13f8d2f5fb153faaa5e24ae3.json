{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nvar _jsxFileName = \"/Users/otnielvictoryfa/task2020/atur-tagihan/pages/index.js\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport Router from 'next/router'; // Material\n\nimport Grid from '@material-ui/core/Grid';\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\nimport { connect } from 'react-redux';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport IconButton from '@material-ui/core/IconButton';\nimport ProductCard from '../components/global-component/ProductCard'; // Component\n\nimport MainLogo from '../components/global-component/MainLogo';\nimport OfferingTagihan from '../components/beranda/OfferingTagihan'; // redux / network\n\nimport { featureEnable } from '../utils/Flagr';\nimport { AuthNetworkCall, CommonNetworkCall, isUserLoggedValid } from '../utils/NetworkCall';\nimport { showSnackbar } from '../redux/snackbar/action';\nimport { isNotUndefinedAndNotEmpty } from '../utils/Validator';\nimport { additionalProductURL } from '../utils/MappingIdToUrl';\nexport var Home = /*#__PURE__*/function (_Component) {\n  _inherits(Home, _Component);\n\n  var _super = _createSuper(Home);\n\n  function Home(props) {\n    var _this;\n\n    _classCallCheck(this, Home);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      userProfile: null,\n      isLoading: true,\n      additionalProduct: [],\n      enableAdditionalProduct: false\n    };\n    return _this;\n  }\n\n  _createClass(Home, [{\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var login;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                document.body.className = 'body-blue';\n                _context.next = 3;\n                return featureEnable(1);\n\n              case 3:\n                if (!_context.sent) {\n                  _context.next = 5;\n                  break;\n                }\n\n                document.location.href = 'https://info.bayartagihan.id/';\n\n              case 5:\n                this.getAdditionalProduct();\n                _context.next = 8;\n                return isUserLoggedValid();\n\n              case 8:\n                login = _context.sent;\n                this.setState({\n                  login: login\n                });\n                if (login === 'logged') this.getProfile();\n                if (login === 'expired') showSnackbar('Sesi anda telah habis, silahkan masuk untuk bertransaksi', 'error');\n                if (login === 'inactive') showSnackbar('Akun anda terblokir atau tidak aktif, silahkan masuk dengan akun lain', 'error');\n                _context.t0 = this;\n                _context.next = 16;\n                return featureEnable(2);\n\n              case 16:\n                _context.t1 = _context.sent;\n                _context.t2 = {\n                  enableAdditionalProduct: _context.t1\n                };\n\n                _context.t0.setState.call(_context.t0, _context.t2);\n\n              case 19:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      }\n\n      return componentDidMount;\n    }()\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      document.body.className = null;\n    }\n  }, {\n    key: \"onClickProduct\",\n    value: function onClickProduct(item) {\n      if (this.state.enableAdditionalProduct === false) {\n        this.props.showSnackbar('Produk belum bisa dibei untuk saat ini', 'info');\n      } else if (this.state.login !== 'logged') {\n        this.props.showSnackbar('Silahkan masuk untuk membeli produk', 'error');\n      } else Router.push(\"\".concat(additionalProductURL(item.id)));\n    }\n  }, {\n    key: \"getAdditionalProduct\",\n    value: function () {\n      var _getAdditionalProduct = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                this.setState({\n                  isLoading: true\n                });\n                _context2.t0 = this;\n                _context2.next = 4;\n                return CommonNetworkCall('/product_type/available/atur_tagihan?is_special__equals=0', 'get', this.props.showSnackbar);\n\n              case 4:\n                _context2.t1 = _context2.sent;\n                _context2.t2 = {\n                  additionalProduct: _context2.t1\n                };\n\n                _context2.t0.setState.call(_context2.t0, _context2.t2);\n\n                this.setState({\n                  isLoading: false\n                });\n\n              case 8:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function getAdditionalProduct() {\n        return _getAdditionalProduct.apply(this, arguments);\n      }\n\n      return getAdditionalProduct;\n    }()\n  }, {\n    key: \"getProfile\",\n    value: function () {\n      var _getProfile = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.t0 = this;\n                _context3.next = 3;\n                return AuthNetworkCall('/customer/profile', 'get', this.props.showSnackbar);\n\n              case 3:\n                _context3.t1 = _context3.sent;\n                _context3.t2 = {\n                  userProfile: _context3.t1\n                };\n\n                _context3.t0.setState.call(_context3.t0, _context3.t2);\n\n              case 6:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function getProfile() {\n        return _getProfile.apply(this, arguments);\n      }\n\n      return getProfile;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state = this.state,\n          userProfile = _this$state.userProfile,\n          isLoading = _this$state.isLoading,\n          additionalProduct = _this$state.additionalProduct;\n\n      var loginButton = __jsx(\"span\", {\n        id: \"loginButton\",\n        className: \"signup-login pointer\",\n        onClick: function onClick() {\n          return Router.push('/login');\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 7\n        }\n      }, __jsx(\"p\", {\n        className: \"font-muli-12 bold\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 9\n        }\n      }, \"Daftar / Login\"));\n\n      var loggedUser = __jsx(\"div\", {\n        className: \"right-top flex \",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 7\n        }\n      }, __jsx(\"span\", {\n        id: \"btnProfile\",\n        className: \"txt-center-ver flex white pointer font-muli-12 \",\n        onClick: function onClick() {\n          return Router.push('/akun');\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 9\n        }\n      }, __jsx(\"b\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }\n      }, \"Halo, \\xA0\"), userProfile ? userProfile.nick_name : null, \"\\xA0\", __jsx(AccountCircleIcon, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }\n      })), __jsx(\"img\", {\n        id: \"btnKeranjang\",\n        src: \"/icon/ic_cart_homepage.svg\",\n        className: \"margin-left-16 pointer \",\n        height: 30,\n        onClick: function onClick() {\n          return Router.push('/keranjang');\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 9\n        }\n      }));\n\n      return __jsx(\"div\", {\n        id: \"beranda\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 7\n        }\n      }, __jsx(MainLogo, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 9\n        }\n      }), !isLoading && userProfile ? loggedUser : null, !isLoading && !userProfile ? loginButton : null, __jsx(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 9\n        }\n      }), __jsx(\"div\", {\n        className: \"margin-rgt-16 margin-left-16 margin-btm-24 margin-top-16 \",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 9\n        }\n      }, __jsx(\"p\", {\n        className: \"font-muli-300 white\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 11\n        }\n      }, __jsx(\"span\", {\n        className: \"font-muli-800 orange\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 13\n        }\n      }, \"Mengatur\"), ' ', \"dan\", ' ', __jsx(\"span\", {\n        className: \"font-muli-800 orange\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 13\n        }\n      }, \"membayar\"), ' ', \"semua tagihan anda dalam satu platform\")), __jsx(\"div\", {\n        className: \"horizontal-scroll padding-rgt-lft-16 \",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 9\n        }\n      }, __jsx(OfferingTagihan, {\n        title: \"Tagihan Bulanan\",\n        products: ['/icon/beranda/ic_beranda_call.png', '/icon/beranda/ic_beranda_electric.png', '/icon/beranda/ic_beranda_network.png'],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }\n      }), __jsx(OfferingTagihan, {\n        title: \"Tagihan Digital\",\n        products: ['/icon/beranda/ic_beranda_netflix.png', '/icon/beranda/ic_beranda_others.png', '/icon/beranda/ic_beranda_spotify.png'],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }\n      })), __jsx(\"div\", {\n        className: \"margin-top-24 margin-rgt-16 margin-left-16\",\n        style: {\n          maxWidth: 500\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 9\n        }\n      }, __jsx(\"p\", {\n        className: \"font-muli-14 bold margin-btm-16\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 11\n        }\n      }, \"Produk Tersedia\"), isLoading ? __jsx(\"div\", {\n        className: \"flex justify-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 13\n        }\n      }, __jsx(CircularProgress, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 15\n        }\n      })) : __jsx(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 13\n        }\n      }, __jsx(Grid, {\n        container: true,\n        spacing: 1,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 15\n        }\n      }, isNotUndefinedAndNotEmpty(additionalProduct) ? additionalProduct.map(function (item) {\n        return __jsx(Grid, {\n          item: true,\n          xs: 4,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 19\n          }\n        }, __jsx(ProductCard, {\n          id: \"product\".concat(item.id),\n          title: item.name,\n          logo: item.icon,\n          large: true,\n          onClick: function onClick() {\n            return _this2.onClickProduct(item);\n          },\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 21\n          }\n        }));\n      }) : null))));\n    }\n  }]);\n\n  return Home;\n}(Component);\nvar mapDispatchToProps = {\n  showSnackbar: showSnackbar\n};\nexport default connect(null, mapDispatchToProps)(Home);","map":{"version":3,"sources":["/Users/otnielvictoryfa/task2020/atur-tagihan/pages/index.js"],"names":["React","Component","Router","Grid","AccountCircleIcon","connect","CircularProgress","IconButton","ProductCard","MainLogo","OfferingTagihan","featureEnable","AuthNetworkCall","CommonNetworkCall","isUserLoggedValid","showSnackbar","isNotUndefinedAndNotEmpty","additionalProductURL","Home","props","state","userProfile","isLoading","additionalProduct","enableAdditionalProduct","document","body","className","location","href","getAdditionalProduct","login","setState","getProfile","item","push","id","loginButton","loggedUser","nick_name","maxWidth","map","name","icon","onClickProduct","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Router from 'next/router';\n\n// Material\nimport Grid from '@material-ui/core/Grid';\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\nimport { connect } from 'react-redux';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport IconButton from '@material-ui/core/IconButton';\nimport ProductCard from '../components/global-component/ProductCard';\n\n// Component\nimport MainLogo from '../components/global-component/MainLogo';\nimport OfferingTagihan from '../components/beranda/OfferingTagihan';\n\n// redux / network\nimport { featureEnable } from '../utils/Flagr';\nimport { AuthNetworkCall, CommonNetworkCall, isUserLoggedValid } from '../utils/NetworkCall';\nimport { showSnackbar } from '../redux/snackbar/action';\nimport { isNotUndefinedAndNotEmpty } from '../utils/Validator';\nimport { additionalProductURL } from '../utils/MappingIdToUrl';\n\nexport class Home extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      userProfile: null,\n      isLoading: true,\n      additionalProduct: [],\n      enableAdditionalProduct: false,\n    };\n  }\n\n  async componentDidMount() {\n    document.body.className = 'body-blue';\n    if (await featureEnable(1)) {\n      document.location.href = 'https://info.bayartagihan.id/';\n    }\n    this.getAdditionalProduct();\n    const login = await isUserLoggedValid();\n    this.setState({ login });\n    if (login === 'logged') this.getProfile();\n    if (login === 'expired') showSnackbar('Sesi anda telah habis, silahkan masuk untuk bertransaksi', 'error');\n    if (login === 'inactive') showSnackbar('Akun anda terblokir atau tidak aktif, silahkan masuk dengan akun lain', 'error');\n    this.setState({ enableAdditionalProduct: await featureEnable(2) });\n  }\n\n  componentWillUnmount() {\n    document.body.className = null;\n  }\n\n  onClickProduct(item) {\n    if (this.state.enableAdditionalProduct === false) {\n      this.props.showSnackbar('Produk belum bisa dibei untuk saat ini', 'info');\n    } else if (this.state.login !== 'logged') {\n      this.props.showSnackbar('Silahkan masuk untuk membeli produk', 'error');\n    } else Router.push(`${additionalProductURL(item.id)}`);\n  }\n\n  async getAdditionalProduct() {\n    this.setState({ isLoading: true });\n    this.setState({ additionalProduct: await CommonNetworkCall('/product_type/available/atur_tagihan?is_special__equals=0', 'get', this.props.showSnackbar) });\n    this.setState({ isLoading: false });\n  }\n\n  async getProfile() {\n    this.setState({ userProfile: await AuthNetworkCall('/customer/profile', 'get', this.props.showSnackbar) });\n  }\n\n  render() {\n    const {\n      userProfile, isLoading, additionalProduct,\n    } = this.state;\n\n    const loginButton = (\n      <span id=\"loginButton\" className=\"signup-login pointer\" onClick={() => Router.push('/login')}>\n        <p className=\"font-muli-12 bold\">Daftar / Login</p>\n      </span>\n    );\n\n    const loggedUser = (\n      <div className=\"right-top flex \">\n        <span id=\"btnProfile\" className=\"txt-center-ver flex white pointer font-muli-12 \" onClick={() => Router.push('/akun')}>\n          <b>Halo, &nbsp;</b>\n          {userProfile ? userProfile.nick_name : null }\n            &nbsp;\n          <AccountCircleIcon />\n        </span>\n        <img id=\"btnKeranjang\" src=\"/icon/ic_cart_homepage.svg\" className=\"margin-left-16 pointer \" height={30} onClick={() => Router.push('/keranjang')} />\n      </div>\n\n    );\n    return (\n      <div id=\"beranda\">\n        <MainLogo />\n        {!isLoading && userProfile ? loggedUser : null }\n        {!isLoading && !userProfile ? loginButton : null }\n        <br />\n        {/*<div className=\"margin-top-16\">*/}\n        {/*  <span className=\"coming-soon font-muli-14\">*/}\n        {/*    <img src=\"/icon/ic_time_small.png\" width=\"12px\" className=\"margin-rgt-4\" />*/}\n        {/*    Segera Hadir*/}\n        {/*  </span>*/}\n        {/*</div>*/}\n\n        <div className=\"margin-rgt-16 margin-left-16 margin-btm-24 margin-top-16 \">\n          <p className=\"font-muli-300 white\">\n            <span className=\"font-muli-800 orange\">Mengatur</span>\n            {' '}\n            dan\n            {' '}\n            <span className=\"font-muli-800 orange\">membayar</span>\n            {' '}\n            semua tagihan anda dalam satu platform\n          </p>\n        </div>\n        <div className=\"horizontal-scroll padding-rgt-lft-16 \">\n          <OfferingTagihan\n            title=\"Tagihan Bulanan\"\n            products={['/icon/beranda/ic_beranda_call.png', '/icon/beranda/ic_beranda_electric.png', '/icon/beranda/ic_beranda_network.png']}\n          />\n          <OfferingTagihan\n            title=\"Tagihan Digital\"\n            products={['/icon/beranda/ic_beranda_netflix.png', '/icon/beranda/ic_beranda_others.png', '/icon/beranda/ic_beranda_spotify.png']}\n          />\n        </div>\n        <div className=\"margin-top-24 margin-rgt-16 margin-left-16\" style={{ maxWidth: 500 }}>\n          <p className=\"font-muli-14 bold margin-btm-16\">Produk Tersedia</p>\n          {isLoading ? (\n            <div className=\"flex justify-center\">\n              <CircularProgress />\n            </div>\n\n          ) : (\n            <div>\n              <Grid container spacing={1}>\n                {isNotUndefinedAndNotEmpty(additionalProduct) ? additionalProduct.map((item) => (\n                  <Grid item xs={4}>\n                    <ProductCard\n                      id={`product${item.id}`}\n                      title={item.name}\n                      logo={item.icon}\n                      large\n                      onClick={() => this.onClickProduct(item)}\n                    />\n                  </Grid>\n                )) : null}\n              </Grid>\n            </div>\n          )}\n\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapDispatchToProps = {\n  showSnackbar,\n};\nexport default connect(null, mapDispatchToProps)(Home);\n"]},"metadata":{},"sourceType":"module"}