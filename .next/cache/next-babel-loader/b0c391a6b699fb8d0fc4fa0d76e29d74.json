{"ast":null,"code":"import React from 'react';\nimport axios from 'axios';\nimport { isNotUndefined } from './Validator'; // notes\n// ada masalah dengan react hooks sehingga showSnackbar dijadikan parameter dan disupply dari component\n\nexport default function CommonNetworkCall(path, method, data = '', headers = {}, showSnackbar) {\n  const BASE_URL = process.env.NEXT_PUBLIC_API_BASE_URL;\n  const url = `${BASE_URL}${path}`;\n  console.log('hm');\n\n  let _axios;\n\n  switch (method) {\n    case 'get':\n      _axios = axios.get(url);\n      break;\n\n    case 'post':\n      _axios = axios.post(url, data, {\n        headers\n      });\n      break;\n\n    case 'delete':\n      _axios = axios.delete(url, {\n        headers\n      });\n      break;\n\n    case 'put':\n      _axios = axios.put(url, data, {\n        headers\n      });\n      break;\n\n    default:\n      _axios = axios();\n  }\n\n  _axios.then(apiResponse => {\n    const {\n      response,\n      result\n    } = apiResponse.data;\n\n    if (response.code !== '000000') {\n      showSnackbar('Terjadi Gangguan', 'error');\n      console.log('ah');\n      return null;\n    }\n\n    console.log('ugh');\n    return result;\n  }).catch(async error => {\n    if (isNotUndefined(error.response)) {\n      const {\n        data\n      } = error.response;\n      showSnackbar(data.response.user_errors, 'error');\n    } else {\n      showSnackbar(error.toString(), 'error');\n    }\n\n    console.log('ew');\n    return null;\n  });\n}","map":{"version":3,"sources":["/Users/otnielvictoryfa/task2020/atur-tagihan/utils/CommonNetworkCall.js"],"names":["React","axios","isNotUndefined","CommonNetworkCall","path","method","data","headers","showSnackbar","BASE_URL","process","env","NEXT_PUBLIC_API_BASE_URL","url","console","log","_axios","get","post","delete","put","then","apiResponse","response","result","code","catch","error","user_errors","toString"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,cAAT,QAA+B,aAA/B,C,CAEA;AACA;;AAEA,eAAe,SAASC,iBAAT,CAA2BC,IAA3B,EAAiCC,MAAjC,EAAyCC,IAAI,GAAG,EAAhD,EAAoDC,OAAO,GAAG,EAA9D,EAAkEC,YAAlE,EAAgF;AAC7F,QAAMC,QAAQ,GAAGC,OAAO,CAACC,GAAR,CAAYC,wBAA7B;AACA,QAAMC,GAAG,GAAI,GAAEJ,QAAS,GAAEL,IAAK,EAA/B;AACAU,EAAAA,OAAO,CAACC,GAAR,CAAY,IAAZ;;AAEA,MAAIC,MAAJ;;AACA,UAAQX,MAAR;AACE,SAAK,KAAL;AACEW,MAAAA,MAAM,GAAGf,KAAK,CAACgB,GAAN,CAAUJ,GAAV,CAAT;AACA;;AACF,SAAK,MAAL;AACEG,MAAAA,MAAM,GAAGf,KAAK,CAACiB,IAAN,CAAWL,GAAX,EAAgBP,IAAhB,EAAsB;AAAEC,QAAAA;AAAF,OAAtB,CAAT;AACA;;AACF,SAAK,QAAL;AACES,MAAAA,MAAM,GAAGf,KAAK,CAACkB,MAAN,CAAaN,GAAb,EAAkB;AAAEN,QAAAA;AAAF,OAAlB,CAAT;AACA;;AACF,SAAK,KAAL;AACES,MAAAA,MAAM,GAAGf,KAAK,CAACmB,GAAN,CAAUP,GAAV,EAAeP,IAAf,EAAqB;AAAEC,QAAAA;AAAF,OAArB,CAAT;AACA;;AACF;AACES,MAAAA,MAAM,GAAGf,KAAK,EAAd;AAdJ;;AAgBCe,EAAAA,MAAM,CACJK,IADF,CACQC,WAAD,IAAiB;AACrB,UAAM;AAAEC,MAAAA,QAAF;AAAYC,MAAAA;AAAZ,QAAuBF,WAAW,CAAChB,IAAzC;;AAEA,QAAIiB,QAAQ,CAACE,IAAT,KAAkB,QAAtB,EAAgC;AAC9BjB,MAAAA,YAAY,CAAC,kBAAD,EAAqB,OAArB,CAAZ;AACAM,MAAAA,OAAO,CAACC,GAAR,CAAY,IAAZ;AACA,aAAO,IAAP;AACD;;AACDD,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ;AACA,WAAOS,MAAP;AACD,GAXF,EAYEE,KAZF,CAYQ,MAAOC,KAAP,IAAiB;AACtB,QAAIzB,cAAc,CAACyB,KAAK,CAACJ,QAAP,CAAlB,EAAoC;AAClC,YAAM;AAAEjB,QAAAA;AAAF,UAAWqB,KAAK,CAACJ,QAAvB;AACAf,MAAAA,YAAY,CAACF,IAAI,CAACiB,QAAL,CAAcK,WAAf,EAA4B,OAA5B,CAAZ;AACD,KAHD,MAGO;AACLpB,MAAAA,YAAY,CAACmB,KAAK,CAACE,QAAN,EAAD,EAAmB,OAAnB,CAAZ;AACD;;AACDf,IAAAA,OAAO,CAACC,GAAR,CAAY,IAAZ;AACA,WAAO,IAAP;AACD,GArBF;AAsBF","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport { isNotUndefined } from './Validator';\n\n// notes\n// ada masalah dengan react hooks sehingga showSnackbar dijadikan parameter dan disupply dari component\n\nexport default function CommonNetworkCall(path, method, data = '', headers = {}, showSnackbar) {\n  const BASE_URL = process.env.NEXT_PUBLIC_API_BASE_URL;\n  const url = `${BASE_URL}${path}`;\n  console.log('hm');\n\n  let _axios;\n  switch (method) {\n    case 'get':\n      _axios = axios.get(url);\n      break;\n    case 'post':\n      _axios = axios.post(url, data, { headers });\n      break;\n    case 'delete':\n      _axios = axios.delete(url, { headers });\n      break;\n    case 'put':\n      _axios = axios.put(url, data, { headers });\n      break;\n    default:\n      _axios = axios();\n  }\n   _axios\n    .then((apiResponse) => {\n      const { response, result } = apiResponse.data;\n\n      if (response.code !== '000000') {\n        showSnackbar('Terjadi Gangguan', 'error');\n        console.log('ah');\n        return null;\n      }\n      console.log('ugh');\n      return result;\n    })\n    .catch(async (error) => {\n      if (isNotUndefined(error.response)) {\n        const { data } = error.response;\n        showSnackbar(data.response.user_errors, 'error');\n      } else {\n        showSnackbar(error.toString(), 'error');\n      }\n      console.log('ew');\n      return null;\n    });\n}\n"]},"metadata":{},"sourceType":"module"}